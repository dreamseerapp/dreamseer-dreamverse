<!DOCTYPE html>
<html style="height: 100vh; margin: 0; padding: 0;">
<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    html, body {
      height: 100vh;
      width: 100vw;
      margin: 0;
      padding: 0;
      display: flex;
    }

    #myDiv {
      flex: 1;
    }
  </style>
</head>
<body>
  <div id="myDiv"></div>
  <script>
    var youtube_links = {
      'COMPLEX': 'EqMbWiuaFAg',
      'WATER': 'b3JdM-QJoXE'
    };

    fetch('dreamverse_map.json')
      .then(response => response.json())
      .then(data => {
        Plotly.react('myDiv', data.data, data.layout, {
          responsive: true,
          modeBarButtonsToRemove: ['pan2d', 'select2d', 'lasso2d', 'autoScale2d', 'resetScale2d', 'hoverClosest3d', 'orbitRotation', 'tableRotation', 'resetCameraDefault3d', 'resetCameraLastSave3d', 'hoverClosestCartesian', 'hoverCompareCartesian', 'toggleSpikelines']
        });

        var myDiv = document.getElementById('myDiv');
        myDiv.on('plotly_click', function(data){
          var point = data.points[0];
          console.log('Point clicked: ', point);
          if (point && point.data.name in youtube_links) {
            console.log('Redirecting to video: ', youtube_links[point.data.name]);
            window.location.href = 'https://www.youtube.com/watch?v=' + youtube_links[point.data.name];
          }
        });
      });
  </script>
</body>
</html>
